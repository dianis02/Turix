<ui:composition
  template="/WEB-INF/facelets/templates/layout.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:p="http://primefaces.org/ui"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
<ui:define name="content">
<link href='https://fonts.googleapis.com/css?family=Allerta Stencil' rel='stylesheet'/>

<style type="text/css">
  .header {
      font-family: "Allerta Stencil";
      /*font-weight: bold;*/
      font-size: 40px;
  }
  .counter {
      font-family: "Allerta Stencil", Times, serif;
      font-weight: bold;
      font-size: 24px;
  }
</style>

      <c:choose>
      
        <!-- A D M I N I S T R A D O R-->
        <c:when test="#{loginController.admin}">
        
          <h:outputText value="¡Bienvenido Administrador!" class="header"/><p/>

          <h:form>
            <c:choose>
              <c:when test ="#{usuarioController.contarUsuariosEnEspera() > 1}">
                <p:commandButton action="listaUsuariosEnEspera?faces-redirect=true" style="margin-bottom: 3px;"
                                   value="Hay #{usuarioController.contarUsuariosEnEspera()} usuarios esperando asignación"/>
              </c:when>
              <c:when test ="#{usuarioController.contarUsuariosEnEspera() == 1}">
                <p:commandButton action="listaUsuariosEnEspera?faces-redirect=true" style="margin-bottom: 3px;"
                                   value="Hay 1 usuario esperando asignación"/>
              </c:when>
              <c:otherwise>
                <p:commandButton action="listaUsuariosEnEspera?faces-redirect=true" style="margin-bottom: 3px;"
                                   value="No hay usuarios esperando asignación"/>
              </c:otherwise>
            </c:choose>
          </h:form>

          <h:form>  
              <p:commandButton action="listaUsuariosRegistrados?faces-redirect=true" style="margin-bottom: 3px;"
                                   value="Usuarios Registrados"/>
          </h:form>
          
          <h:form>
              <p:commandButton action="listaTemasAdminB?faces-redirect=true" style="margin-bottom: 3px;"
                                   value="Eliminar Temas"/>
          </h:form>
          
          <h:form>
              <p:commandButton action="listaComentariosAdmin?faces-redirect=true"
                                   value="Eliminar Comentarios"/>
          </h:form>
        </c:when>

        <!-- I N F O R M A D O R-->
        <c:when test="#{loginController.currentUser.es_informador}">
          <h:head>
            <title>Bienvenido</title>
          </h:head>

          <h:outputText value="¡Hola #{usuario.nombre_usuario}!" class="header"/>

          <h:body>
            <h2>Eres Informador en TURIX #{loginController.login.usuario}</h2>
          </h:body>
              <h:form>
              <p:commandButton action="temaInformador?faces-redirect=true"
                                   value="Temas"/>
          </h:form>
              <h:form>
              <p:commandButton action="marcador?faces-redirect=true"
                                   value="Marcadores"/>
          </h:form>
              <h:form>
              <p:commandButton action="comentario?faces-redirect=true"
                                   value="Comentarios"/>
          </h:form>
            <h:form>
              <p:commandButton action="map?faces-redirect=true"
                                   value="Mapa"/>
          </h:form>
        </c:when>

        <!-- C O M E N T A R I S T A -->
        <c:when test="#{loginController.logged}">
          <h:body>
            <h2>¡Hola Comentarista! #{loginController.login.usuario}</h2>
          </h:body>
          <h:form>
              Hola Comentarista!
          <p:commandButton action="comentario?faces-redirect=true"
                               value="Comentarios"/>
          </h:form>
            <h:form>
              <p:commandButton action="map?faces-redirect=true"
                                   value="Mapa"/>
          </h:form>
        </c:when>
        <c:otherwise>
            Hola Visitante!
    <p:commandLink action="index">
    <h:graphicImage value="/img/m.png"
                    style="float:left;"/>
      </p:commandLink>
        </c:otherwise>
      </c:choose>
  </ui:define>
</ui:composition>
