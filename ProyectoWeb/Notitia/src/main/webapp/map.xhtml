<ui:composition template="/WEB-INF/facelets/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:b="http://bootsfaces.net/ui">

  <ui:define name="content">
  <h:form prependId="false">
    <p:gmap center="19.323808, -99.178948" zoom="17"
            type="TERRAIN" style="width:100%;height:600px"
            model="#{marcadorController.model}"
            onPointClick="handlePointClick(event);" widgetVar="map"
            id="adminorinformer">
      <p:ajax event="overlaySelect" listener="#{marcadorController.onMarkerSelect}" />
      <p:gmapInfoWindow id="infoWindow" >
        <p:outputPanel style="text-align: left; display: block; margin: auto">
          <h3><p:outputLabel value="#{marcadorController.title}" /></h3>
          <br/>
          <p:outputLabel value="${marcadorController.data}" /><br/>
          <h:form>
            <h:inputHidden value="#{marcadorController.title}"/>
            <b:commandButton value="Eliminar marcador" action="#{marcadorController.eliminaMarcador}"/>
          </h:form>
        </p:outputPanel>
      </p:gmapInfoWindow>
    </p:gmap>
  </h:form>
</ui:define>
</ui:composition>
