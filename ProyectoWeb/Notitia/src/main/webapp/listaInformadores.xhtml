<ui:composition
    template="/WEB-INF/facelets/templates/layout.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
  <ui:define name="content">

<h:head>
  <title>Informadores Registrados</title>
</h:head>

<style type="text/css">
    .ui-datalist {
        width: auto;
        margin-bottom: 10px;
    }

    .ui-datalist-item {
        padding:4px;
    }

    .paginated .ui-datalist-data {
        padding-left: 10px;
    }
    .myTable td:nth-child(1){
        text-align: center;
        width: 50px;
    }
</style>

<h:body>

  <h:form id="myorm">

    <h1>Informadores Registrados</h1>

    <p:commandButton action="welcome?faces-redirect=true" value="Inicio"/>
    <p:commandButton action="listaUsuariosRegistrados?faces-redirect=true" value="Todos"/>
    <p:commandButton action="listaComentaristas?faces-redirect=true" value="Comentaristas"/>
    <br></br><br></br>

    <p:dataList value="#{usuarioController.listaInformadores()}" type="unordered" paginator="true" rows="10" var="usuario" >

      <p:dataTable var="Usuarios Registrados" value="{#{usuarioController.listaInformadores()}" >

        <p:column headerText="Nombre de Usuario">
            <h:outputText value="#{usuario.nombre_usuario}" />
        </p:column>

        <p:column headerText="Correo ElectrÃ³nico">
            <h:outputText value="#{usuario.correo}" />
        </p:column>

        <p:column headerText="Calidad">
            <h:outputText value="#{usuario.es_informador ? 'Informador' : 'Comentarista'}" style="center"/>
        </p:column>

      </p:dataTable>

      <p:commandButton action="#{usuarioController.setRegistradosInf(usuario)}"
                       value="#{usuarioController.inf(usuario)}"
                       update="@none" process="@this"
                       />

      <p:commandButton action="#{usuarioController.deleteInformador(usuario)}"
                       value="Eliminar"
                       update="@none" process="@this"
                       />

    </p:dataList>
    <table>
      <tr><td>
        <p:messages id="messages" autoUpdate="true" closable="true" />
      </td></tr>
    </table>

  </h:form>

</h:body>
  </ui:define>
</ui:composition>
