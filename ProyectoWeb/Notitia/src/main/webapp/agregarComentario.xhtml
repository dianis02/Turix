<ui:composition
    template="/WEB-INF/facelets/templates/layout.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
  <ui:define name="content">
<h:head>
  <title>Agregar Comentario</title>
</h:head>
<h:body>
  <h1>Quieres agregar un comentario?</h1> <br/>
  <h:form id="myForm">
    <table>
      <tr><td>
        <p:messages id="messages" autoUpdate="true" closable="true" />
      </td></tr>
    </table>
    <table>
      <tr>
          <td>Marcador</td>
          <td><p:inputText value="#{comentarioController.t}"
                         required="true"
                         id="marcador"
                         size="20"/></td>

      </tr>

      <tr>


          <td>Comentario</td>
          <td><p:inputText value="#{comentarioController.comentario.comentario}"
                         required="true"
                         id="Comentario"
                         size="20"/></td>

      </tr>
      <tr>


          <td>Me gusta</td>
        <td><p:inputText value="#{comentarioController.comentario.calificacionPositiva}"
                         required="true"
                         id="calificacionPositiva"
                         size="20"/></td>

      </tr>
      <tr>


          <td>No me gusta</td>
        <td><p:inputText value="#{comentarioController.comentario.calificacionNegativa}"
                         required="true"
                         id="calificacionNegativa"
                         size="20"/></td>

      </tr>
      <tr>
        <td colspan="3" align="center">
            <p:commandButton action="#{comentarioController.agregarComentario}" value="aceptar" onclick="agregarComentario"/>
        </td>
      </tr>
    </table>
  </h:form>
  <h:form>

<!--      <p:commandButton action="verComentarios"
                           value="Ver comentarios"/>-->
<p:commandButton action="map" value="Regresar"/>
      <p:dataList value="#{comentarioController.listaComentarios()}" var="Comentarios">
        <f:facet name="header">
            Comentarios
        </f:facet>
          Id: #{Comentarios.id_comentario},Usuario:#{Comentarios.usuario.nombre_usuario} ,Fecha: #{Comentarios.fecha}, Contenido: #{Comentarios.comentario}
    </p:dataList>
  </h:form>

  <h:form>
<!--
      <p:commandButton action="paginaComentario"
                           value="Editar Y Eliminar"/>-->
        <table>
            <tr>
        <td>ID</td>
        <td><p:inputText value="#{comentarioController.id_comentario}"
                         required="true"
                         id="id_comentario"
                         size="20"/></td>
      </tr>
            <td colspan="3" align="center">
                <p:commandButton action="#{comentarioController.eliminarComentario()}" value="Eliminar"/>
                <p:commandButton action="editarComentario"
                           value="Editar"/>
            </td>
        </table>
<p:commandButton action="map?faces-redirect=true"
                           value="Mapa"/>
  </h:form>
</h:body>
  </ui:define>
</ui:composition>